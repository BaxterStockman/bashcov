<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Bashcov by infertux</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Bashcov</h1>
        <p>Code coverage tool for Bash</p>

        <p class="view"><a href="https://github.com/infertux/bashcov">View the Project on GitHub <small>infertux/bashcov</small></a></p>


        <ul>
          <li><a href="https://github.com/infertux/bashcov/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/infertux/bashcov/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/infertux/bashcov">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Bashcov <a href="https://travis-ci.org/infertux/bashcov"><img src="https://secure.travis-ci.org/infertux/bashcov.png?branch=master" alt="Build Status"></a>
</h1>

<p><a href="https://github.com/infertux/bashcov">bashcov</a> is <a href="https://github.com/colszowka/simplecov">simplecov</a> for Bash.</p>

<h2>Installation</h2>

<p><code>$ gem install bashcov</code></p>

<h2>Usage</h2>

<p><code>bashcov ./test_suite.sh</code></p>

<p>This will create a directory named <code>coverage/</code> containing HTML files.</p>

<h2>Rationale</h2>

<p>I'm a big fan of both Ruby's <em>simplecov</em> and Bash.
<em>bashcov</em> is my dream to have in Bash what <em>simplecov</em> is to Ruby :).</p>

<p>Oddly enough, I didn't find any coverage tool for Bash except <a href="http://code.google.com/p/shcov/source/browse/trunk/scripts/shcov">shcov</a> but as stated <a href="http://stackoverflow.com/questions/7188081/code-coverage-tools-for-validating-the-scripts">there</a>, <em>shcov</em> is:</p>

<blockquote>
<p>somewhat simplistic and doesn't handle all possible cases very well (especially when we're talking about long and complex lines)</p>
</blockquote>

<p>Indeed, it doesn't work very well for me.
I have covered lines marked as uncovered and some files completely missed although executed through another script.</p>

<p><em>bashcov</em> aims to be a neat and working coverage tool backed by <em>simplecov</em> and <a href="https://github.com/colszowka/simplecov-html">simplecov-html</a>.</p>

<h2>How does it work?</h2>

<p>Ruby has a <a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/coverage/rdoc/Coverage.html">coverage module</a> which computes the coverage on demand.
Unfortunately, Bash doesn't have such niceties but we can use the <a href="http://www.gnu.org/software/bash/manual/bashref.html#index-BASH_005fXTRACEFD-178">xtrace feature</a> which prints every line executed using <a href="http://www.gnu.org/software/bash/manual/bashref.html#index-PS4">PS4</a>.</p>

<p>After a bit of parsing, it sends results through <em>simplecov</em> which generates an awesome HTML report.</p>

<p>And of course, you can take the most of <em>simplecov</em> by adding a <code>.simplecov</code> file in your project's root (like <a href="https://github.com/infertux/bashcov/blob/master/spec/test_app/.simplecov">this</a>).</p>

<h2>License</h2>

<p>MIT</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/infertux">infertux</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>